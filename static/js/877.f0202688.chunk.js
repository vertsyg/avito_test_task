"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[877],{270:function(e,n,t){t.d(n,{o:function(){return S}});var r={};t.r(r),t.d(r,{changeGenre:function(){return v},changePlatform:function(){return y},changeSorting:function(){return w},fetchGameFromCache:function(){return x},fetchGames:function(){return m},fetchOneGame:function(){return g}});var a=t(9434),o=t(7781),c=t(4165),i=t(5861),u=t(3416),s=t(1243),l=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(n,t,r){var a,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://www.freetogame.com/api/games?platform=".concat(n,"&category=").concat(t,"&sort-by=").concat(r,"&callback=myCallback"),e.next=3,s.Z.get(a);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(n,t){var r,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://www.freetogame.com/api/games?platform=".concat(n,"&sort-by=").concat(t),e.next=3,s.Z.get(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(n){var t,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.freetogame.com/api/game?id=".concat(n),e.next=3,s.Z.get(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=t(4176),d=function(e){return"All Platforms"===e||"All Genres"===e?"all":"PC (Windows)"===e?"pc":"Web Browser"===e?"browser":e.toLowerCase().replace(" ","-")},m=function(e,n,t){return function(){var r=(0,i.Z)((0,c.Z)().mark((function r(a){var o;return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,a({type:u.U.FETCH_GAMES}),"all"!==n){r.next=8;break}return r.next=5,p(e,t);case 5:r.t0=r.sent,r.next=11;break;case 8:return r.next=10,l(e,n,t);case 10:r.t0=r.sent;case 11:o=r.t0,a({type:u.U.FETCH_GAMES_SUCCESS,payload:o}),r.next=18;break;case 15:r.prev=15,r.t1=r.catch(0),a({type:u.U.FETCH_GAMES_ERROR,payload:"Oops! Can't load the data. ".concat(r.t1)});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()},g=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(t){var r,a,o;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:u.U.FETCH_ONE_GAME}),n.next=4,f(e);case 4:r=n.sent,a=(new Date).getTime(),o={data:r,timestamp:a},localStorage.setItem("game_".concat(e),JSON.stringify(o)),t({type:u.U.FETCH_ONE_GAME_SUCCESS,payload:r}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),t({type:u.U.FETCH_ONE_GAME_ERROR,payload:"Oops! Can't load the data. ".concat(n.t0)});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(n){n({type:u.U.FETCH_ONE_GAME});var t=(0,h.o)(e);n({type:u.U.FETCH_ONE_GAME_SUCCESS,payload:t})}},v=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(t){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:u.U.CHANGE_GENRE,payload:d(e)});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(t){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:u.U.CHANGE_PLATFORM,payload:d(e)});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(t){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:u.U.CHANGE_SORTING,payload:d(e)});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(){var e=(0,a.I0)();return(0,o.DE)(r,e)}},1573:function(e,n,t){t.d(n,{i:function(){return r}});var r=t(9434).v9},8877:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=["All Platforms","PC (Windows)","Web Browser"],a=["All Genres","MMORPG","Shooter","Strategy","MOBA","Racing","Sports","Social","Sandbox","Open World","Survival","PVP","PVE","Pixel","Voxel","Zombie","Turn Based","First Person","Third Person","Top-Down","Tank","Space","Sailing","Side-Scroller","Superhero","Permadeath","Card","Battle Royale","MMO","MMOFPS","MMOTPS","3D","2D","Anime","Fantasy","Sci-Fi","Fighting","Action RPG","Action","Military","Martial Arts","Flight","Low-Spec","Tower Defense","Horror","MMORTS"],o=["Relevance","Popularity","Release Date","Alphabetical"],c=t(4022),i=t(184),u=function(e){var n=e.label,t=e.options,r=e.handleFilterChange;return(0,i.jsxs)("div",{style:{margin:"5px"},children:[(0,i.jsx)("label",{children:n}),(0,i.jsx)(c.Z,{defaultValue:t[0],onChange:function(e){r(e)},children:t.map((function(e){return(0,i.jsx)(c.Z.Option,{value:e,children:e},e)}))})]})},s=t(270),l=function(){var e=(0,s.o)(),n=e.changeGenre,t=e.changePlatform,c=e.changeSorting;return(0,i.jsxs)("div",{style:{marginTop:"10px",marginBottom:"10px",display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[(0,i.jsx)(u,{label:"Platform: ",options:r,handleFilterChange:t}),(0,i.jsx)(u,{label:"Genre: ",options:a,handleFilterChange:n}),(0,i.jsx)(u,{label:"Sort By: ",options:o,handleFilterChange:c})]})},p=t(9439),f=t(2791),h=t(1573),d=t(3976),m=t(7963),g=t(1087),x=function(e){var n=e.id,t=e.title,r=e.release_date,a=e.publisher,o=e.genre,c=e.thumbnail;return(0,i.jsx)(g.rU,{to:"/game/".concat(n),children:(0,i.jsxs)(d.Z,{hoverable:!0,cover:(0,i.jsx)("img",{alt:"Poster",src:c}),children:[(0,i.jsx)("h2",{children:t}),(0,i.jsx)("p",{children:o}),(0,i.jsx)("p",{children:a}),(0,i.jsx)("p",{children:(0,m.r)(r)})]})})},v=t(4692),y=t(8786),w=t(9603),S=t(8326),Z=function(){var e=(0,h.i)((function(e){return e})),n=e.error,t=e.games,r=e.loading,a=e.platform,o=e.genre,c=e.sorting,u=(0,s.o)().fetchGames,l=(0,f.useState)(1),d=(0,p.Z)(l,2),m=d[0],g=d[1],Z=24*m,C=Z-24,E=t.slice(C,Z);(0,f.useEffect)((function(){g(1),u(a,o,c)}),[a,o,c]);return r?(0,i.jsx)(v.Z,{spinning:r}):n?(0,i.jsx)("h1",{children:n}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{gutter:[16,16],children:E.map((function(e){var n=e.id,t=e.title,r=e.release_date,a=e.publisher,o=e.genre,c=e.thumbnail;return(0,i.jsx)(w.Z,{xs:24,sm:12,md:8,lg:6,xl:6,children:(0,i.jsx)(x,{id:n,title:t,release_date:r,publisher:a,genre:o,thumbnail:c})},n)}))}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"5px"},children:(0,i.jsx)(S.Z,{current:m,total:t.length,pageSize:24,onChange:function(e){g(e),console.log(e)},showSizeChanger:!1})})]})},C=function(){return(0,i.jsxs)("div",{style:{width:"85vw",margin:"0 auto"},children:[(0,i.jsx)("h1",{children:"Free-To-Play Games"}),(0,i.jsx)(l,{}),(0,i.jsx)(Z,{})]})}},4176:function(e,n,t){t.d(n,{i:function(){return r},o:function(){return a}});var r=function(e){var n=localStorage.getItem("game_".concat(e));if(n){var t=JSON.parse(n),r=t.timestamp;if((new Date).getTime()-r<3e5)return t.data;localStorage.removeItem("game_".concat(e))}},a=function(e){var n=localStorage.getItem("game_".concat(e));if(n)return JSON.parse(n).data}},7963:function(e,n,t){t.d(n,{r:function(){return r}});var r=function(e){return e.split("-").reverse().join(".")}}}]);
//# sourceMappingURL=877.f0202688.chunk.js.map